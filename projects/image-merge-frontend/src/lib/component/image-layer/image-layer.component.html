<div class="layer-image" *ngIf="layerImage">
    <lib-image-layer
            *ngFor="let subLayerImage of (layerImage.images | keyvalue : doNotSort)"
            [layerImage]="subLayerImage.value"
            [ratio]="ratio"
            [parentLayerOffset]="layerImage.subLayerOffset || {x: 0, y: 0}"
    ></lib-image-layer>


    <img class="layer-image__image"
         *ngIf="isNumeric(layerImage.currentVariant) && layerImage.variants && layerImage.variants[layerImage.currentVariant]"
         [src]="layerImage.variants[layerImage.currentVariant].url"
         [alt]="layerImage.variants[layerImage.currentVariant].name"
         [ngStyle]="{
                position: 'absolute',
                top: (layerImage.offset.y * ratio + parentLayerOffset.y * ratio) + 'px',
                left: (layerImage.offset.x * ratio + parentLayerOffset.x * ratio) + 'px',
                height: layerImage.size.y * ratio + 'px',
                width: layerImage.size.x * ratio + 'px'
              }"
    />
</div>
